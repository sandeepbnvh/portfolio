sap.ui.define(["sap/m/library","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/core/util/File"],function(e,o,t,n,a,s){var i=e.URLHelper;"use strict";return o.extend("com.san.portfolio.controller.App",{onInit:function(){var e=new t;e.loadData(sap.ui.require.toUrl("com/san/portfolio/card.json"));this.getView().setModel(e,"manifests");this.byId("idTimeline").setEnableScroll(false)},initializeForm:function(){var e=this.getView().byId("name");e.setValue("");var o=this.getView().byId("email");o.setValue("");var t=this.getView().byId("message");t.setValue("")},downloadResume:function(){const e="https://firebasestorage.googleapis.com/v0/b/portfolio-7b056.appspot.com/o/Sandeep%20A%20N_Resume-converted.pdf?alt=media&token=487486a2-3b22-4a31-a675-a6b622422c18";var o=new XMLHttpRequest;o.open("GET","https://cors-anywhere.herokuapp.com/"+e);o.responseType="blob";o.onload=function(){var e=document.createElement("a");e.href=window.URL.createObjectURL(o.response);e.style.display="none";e.download=sFilenameFromServer;document.body.appendChild(e);e.click();document.body.removeChild(e);setTimeout(function(){window.URL.revokeObjectURL(e.href)},250)}.bind(this);o.send()},handlePopoverPress:function(e){var o=e.getSource(),t=this.getView();if(!this._pPopover){this._pPopover=s.load({id:t.getId(),name:"com.san.portfolio.fragment.detail",controller:this}).then(function(e){t.addDependent(e);return e})}this._pPopover.then(function(e){e.openBy(o)})},onSave:function(){var e=this.getView().byId("name").getValue();var o=this.getView().byId("email").getValue();var t=this.getView().byId("message").getValue();var n=/^\w+[\w-+\.]*\@\w+([-\.]\w+)*\.[a-zA-Z]{2,}$/;if(e==""||o==""||t==""){a.show("Please enter Valid Details")}else if(!n.test(o)){a.show(o+" is not a valid email address")}else{Email.send({SecureToken:"41f3b9f9-dfd0-4acd-8e47-4d82d5c96692",To:"sandeep.bnvh@gmail.com",From:o,Subject:e+"sent a message-- Portfolio!!!",Body:t}).then(n=>{if(n=="OK"){var s=firebase.database().ref("messages");var i=s.push();i.set({name:e,email:o,msg:t});a.show("Submitted Successfully")}else{a.show(o+" is not a valid email address")}});this.byId("mypopover").close()}},handleCloseButton:function(e){this.byId("mypopover").close()},onLinkedIn:function(){window.open("https://www.linkedin.com/in/sandeepbnvh/")},ongithub:function(){window.open("https://github.com/sandeepbnvh")},onInstagram:function(){window.open("https://instagram.com/sandeep.a.n")},onMail:function(){sap.m.URLHelper.triggerEmail("sandeep.bnvh@gmail.com","Say Hi","")}})});